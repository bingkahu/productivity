<!DOCTYPE html>
<html lang="en" data-theme="nebula">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>VORTEX II â€” Cosmic Productivity System</title>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&family=Bebas+Neue&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet"/>
<link rel="stylesheet" href="style.css"/>
</head>
<body>

<!-- CANVAS LAYERS -->
<canvas id="c-nebula" class="bg-canvas" aria-hidden="true"></canvas>
<canvas id="c-stars" class="bg-canvas" aria-hidden="true"></canvas>
<canvas id="c-particles" class="bg-canvas" aria-hidden="true"></canvas>
<canvas id="c-confetti" class="overlay-canvas" aria-hidden="true"></canvas>

<!-- CURSOR -->
<div id="cursor-dot" aria-hidden="true"></div>
<div id="cursor-ring" aria-hidden="true"></div>
<div id="cursor-trail-container" aria-hidden="true"></div>

<!-- SPLASH -->
<div id="splash" role="status" aria-label="Loading VORTEX">
  <div class="splash-core">
    <canvas id="splash-canvas" width="300" height="300"></canvas>
    <div class="splash-wordmark">VORTEX <span class="splash-ii">II</span></div>
    <div class="splash-tagline">Cosmic Productivity System</div>
    <div class="splash-progress-track"><div id="splash-bar" class="splash-bar"></div></div>
    <div id="splash-status" class="splash-status">Initializing universeâ€¦</div>
  </div>
</div>

<!-- COMMAND PALETTE -->
<div id="cmd-overlay" class="cmd-overlay hidden" role="dialog" aria-modal="true" aria-label="Command Palette">
  <div class="cmd-palette">
    <div class="cmd-input-row">
      <span class="cmd-icon">âŒ˜</span>
      <input type="text" id="cmd-input" placeholder="Search commands, notes, tasksâ€¦" autocomplete="off" spellcheck="false"/>
      <kbd class="cmd-close-key">ESC</kbd>
    </div>
    <div id="cmd-results" class="cmd-results"></div>
    <div class="cmd-footer">
      <span><kbd>â†‘â†“</kbd> Navigate</span>
      <span><kbd>Enter</kbd> Select</span>
      <span><kbd>Esc</kbd> Close</span>
    </div>
  </div>
</div>

<!-- NOTIFICATION STACK -->
<div id="notif-stack" class="notif-stack" aria-live="polite"></div>

<!-- ACHIEVEMENT POPUP -->
<div id="achievement-popup" class="achievement-popup hidden" role="status"></div>

<!-- DAILY SUMMARY MODAL -->
<div id="summary-modal" class="modal-overlay hidden" role="dialog" aria-modal="true">
  <div class="modal-box modal-summary">
    <div class="modal-header">
      <h2 class="modal-title">Daily Mission Report</h2>
      <button class="modal-close" id="summary-close" aria-label="Close">âœ•</button>
    </div>
    <div id="summary-content" class="summary-content"></div>
  </div>
</div>

<!-- EXPORT/IMPORT MODAL -->
<div id="data-modal" class="modal-overlay hidden" role="dialog" aria-modal="true">
  <div class="modal-box">
    <div class="modal-header">
      <h2 class="modal-title">Data Vault</h2>
      <button class="modal-close" id="data-modal-close" aria-label="Close">âœ•</button>
    </div>
    <div class="data-modal-body">
      <div class="data-section">
        <div class="data-section-title">Export</div>
        <p class="data-section-desc">Download a full JSON snapshot of all your data.</p>
        <button id="btn-export" class="btn-action btn-teal">â¬‡ Export JSON</button>
      </div>
      <div class="data-divider"></div>
      <div class="data-section">
        <div class="data-section-title">Import</div>
        <p class="data-section-desc">Restore from a previously exported JSON file.</p>
        <label class="btn-action btn-amber" for="import-file-input" style="cursor:pointer">â¬† Choose File</label>
        <input type="file" id="import-file-input" accept=".json" style="display:none"/>
        <div id="import-status" class="import-status"></div>
      </div>
      <div class="data-divider"></div>
      <div class="data-section">
        <div class="data-section-title danger-zone">Danger Zone</div>
        <button id="btn-reset-all" class="btn-action btn-danger">âš  Reset All Data</button>
      </div>
    </div>
  </div>
</div>

<!-- THEME PICKER MODAL -->
<div id="theme-modal" class="modal-overlay hidden" role="dialog" aria-modal="true">
  <div class="modal-box">
    <div class="modal-header">
      <h2 class="modal-title">Theme Engine</h2>
      <button class="modal-close" id="theme-modal-close" aria-label="Close">âœ•</button>
    </div>
    <div class="theme-grid" id="theme-grid"></div>
  </div>
</div>

<!-- MAIN APP -->
<div id="app" class="app-shell hidden">

  <!-- SIDEBAR -->
  <aside id="sidebar" class="sidebar" role="navigation" aria-label="Main navigation">
    <div class="sidebar-logo">
      <div class="logo-glyph">â—ˆ</div>
      <div class="logo-words"><span class="logo-v">VORTEX</span><span class="logo-n">II</span></div>
    </div>

    <nav class="sidebar-nav">
      <button class="nav-btn active" data-panel="focus" title="Focus Timer (Ctrl+1)">
        <span class="nav-icon">â—</span><span class="nav-label">Focus</span>
        <span class="nav-badge" id="nb-focus" style="display:none"></span>
      </button>
      <button class="nav-btn" data-panel="tasks" title="Tasks (Ctrl+2)">
        <span class="nav-icon">â—§</span><span class="nav-label">Tasks</span>
        <span class="nav-badge" id="nb-tasks">0</span>
      </button>
      <button class="nav-btn" data-panel="habits" title="Habits (Ctrl+3)">
        <span class="nav-icon">â—ˆ</span><span class="nav-label">Habits</span>
        <span class="nav-badge" id="nb-habits">0</span>
      </button>
      <button class="nav-btn" data-panel="notes" title="Notes (Ctrl+4)">
        <span class="nav-icon">â—‰</span><span class="nav-label">Notes</span>
        <span class="nav-badge" id="nb-notes">0</span>
      </button>
      <button class="nav-btn" data-panel="mood" title="Mood (Ctrl+5)">
        <span class="nav-icon">â—•</span><span class="nav-label">Mood</span>
      </button>
      <button class="nav-btn" data-panel="stats" title="Stats (Ctrl+6)">
        <span class="nav-icon">â—†</span><span class="nav-label">Stats</span>
      </button>
      <button class="nav-btn" data-panel="rewards" title="Rewards (Ctrl+7)">
        <span class="nav-icon">âœ¦</span><span class="nav-label">Rewards</span>
        <span class="nav-badge" id="nb-rewards" style="display:none">!</span>
      </button>
    </nav>

    <div class="sidebar-tools">
      <button class="tool-btn" id="btn-cmd" title="Command Palette (Ctrl+K)">âŒ˜</button>
      <button class="tool-btn" id="btn-theme" title="Theme Engine">â—‘</button>
      <button class="tool-btn" id="btn-data" title="Data Vault">â¬¢</button>
      <button class="tool-btn" id="btn-summary" title="Daily Summary">â‰‹</button>
      <button class="tool-btn" id="btn-sound" title="Sound Toggle">â™ª</button>
    </div>

    <div class="sidebar-clock">
      <div id="sb-time" class="sb-time">00:00:00</div>
      <div id="sb-date" class="sb-date"></div>
      <div class="sb-xp-row">
        <span id="sb-xp-label" class="sb-xp-label">XP: 0</span>
        <div class="sb-xp-track"><div id="sb-xp-bar" class="sb-xp-bar"></div></div>
      </div>
    </div>
  </aside>

  <!-- MAIN CONTENT -->
  <main id="main" class="main-area" role="main">

    <!-- ======================================================
         FOCUS PANEL
    ====================================================== -->
    <section id="panel-focus" class="panel active" aria-label="Focus Timer">
      <header class="panel-hdr">
        <h1 class="panel-title">Focus Engine</h1>
        <p class="panel-sub">Precision timing Â· Zero drift Â· Deep work</p>
      </header>

      <div class="focus-grid">

        <!-- Timer Core -->
        <div class="timer-card">
          <div class="timer-ring-wrap">
            <svg class="timer-svg" viewBox="0 0 320 320" role="img" aria-label="Timer progress">
              <defs>
                <linearGradient id="tg1" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" class="tg-stop-a"/><stop offset="100%" class="tg-stop-b"/>
                </linearGradient>
                <filter id="tf-glow">
                  <feGaussianBlur stdDeviation="6" result="blur"/>
                  <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
                </filter>
                <filter id="tf-soft">
                  <feGaussianBlur stdDeviation="2" result="blur"/>
                  <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
                </filter>
              </defs>
              <!-- Outer track -->
              <circle cx="160" cy="160" r="140" class="ring-track-outer"/>
              <!-- Secondary ring -->
              <circle cx="160" cy="160" r="120" class="ring-track-inner"/>
              <!-- Main progress -->
              <circle cx="160" cy="160" r="140" class="ring-progress-glow" id="ring-glow" filter="url(#tf-glow)"/>
              <circle cx="160" cy="160" r="140" class="ring-progress" id="ring-main"/>
              <!-- Secondary lap ring -->
              <circle cx="160" cy="160" r="120" class="ring-lap" id="ring-lap"/>
              <!-- Tip dot -->
              <circle cx="160" cy="20" r="7" class="ring-tip" id="ring-tip" filter="url(#tf-soft)"/>
              <!-- Lap tip -->
              <circle cx="160" cy="40" r="5" class="ring-lap-tip" id="ring-lap-tip" filter="url(#tf-soft)"/>
            </svg>
            <div class="timer-inner">
              <div class="timer-mode-chip" id="t-mode-chip">FOCUS</div>
              <div class="timer-digits" id="t-digits">25:00</div>
              <div class="timer-ms" id="t-ms">.00</div>
              <div class="timer-info-row">
                <span class="timer-info" id="t-session-info">Session 1 of 4</span>
              </div>
              <div class="timer-task-display" id="t-task-display"></div>
            </div>
          </div>

          <div class="timer-btns">
            <button class="tbtn tbtn-secondary" id="tbtn-reset" title="Reset (R)">â†º</button>
            <button class="tbtn tbtn-primary" id="tbtn-start" title="Start/Pause (Space)">â–¶</button>
            <button class="tbtn tbtn-secondary" id="tbtn-lap" title="Lap (L)">â—·</button>
            <button class="tbtn tbtn-secondary" id="tbtn-skip" title="Skip (S)">âŠ³âŠ³</button>
          </div>

          <div class="timer-mode-row">
            <button class="tmode active" data-mode="focus" data-mins="25">Focus 25m</button>
            <button class="tmode" data-mode="shortbreak" data-mins="5">Break 5m</button>
            <button class="tmode" data-mode="longbreak" data-mins="15">Long 15m</button>
            <button class="tmode" data-mode="custom" data-mins="0">Custom</button>
          </div>
          <div id="custom-wrap" class="custom-wrap hidden">
            <input type="number" id="custom-mins" min="1" max="240" placeholder="Minutes" class="custom-mins-input"/>
            <button id="custom-set" class="btn-sm btn-teal">SET</button>
          </div>

          <div class="timer-task-wrap">
            <input type="text" id="timer-task-input" class="timer-task-input" placeholder="Current missionâ€¦" maxlength="80"/>
          </div>
        </div>

        <!-- Right Column -->
        <div class="focus-right">

          <!-- Ambient Sound -->
          <div class="focus-card">
            <div class="card-title">Ambient Environment</div>
            <div class="ambient-grid">
              <button class="amb-btn active" data-snd="none">âœ¦ None</button>
              <button class="amb-btn" data-snd="rain">ğŸŒ§ Rain</button>
              <button class="amb-btn" data-snd="forest">ğŸŒ² Forest</button>
              <button class="amb-btn" data-snd="ocean">ğŸŒŠ Ocean</button>
              <button class="amb-btn" data-snd="fire">ğŸ”¥ Fire</button>
              <button class="amb-btn" data-snd="space">ğŸŒŒ Space</button>
              <button class="amb-btn" data-snd="cafe">â˜• CafÃ©</button>
              <button class="amb-btn" data-snd="thunder">â›ˆ Thunder</button>
            </div>
            <div class="vol-row">
              <span class="vol-label">Volume</span>
              <input type="range" id="amb-vol" min="0" max="100" value="35" class="vol-slider"/>
              <span id="vol-pct" class="vol-pct">35%</span>
            </div>
          </div>

          <!-- Laps -->
          <div class="focus-card">
            <div class="card-title">Lap Splits</div>
            <div id="laps-list" class="laps-list">
              <div class="laps-empty">No laps recorded</div>
            </div>
          </div>

          <!-- Session Log -->
          <div class="focus-card">
            <div class="card-title">Session Log</div>
            <div id="session-log" class="session-log"></div>
          </div>

          <!-- Mini Stats -->
          <div class="focus-mini-stats">
            <div class="mini-stat-card">
              <div class="ms-val" id="ms-today">0</div>
              <div class="ms-label">Today</div>
            </div>
            <div class="mini-stat-card">
              <div class="ms-val" id="ms-total">0h</div>
              <div class="ms-label">Total</div>
            </div>
            <div class="mini-stat-card">
              <div class="ms-val" id="ms-streak">0ğŸ”¥</div>
              <div class="ms-label">Streak</div>
            </div>
            <div class="mini-stat-card">
              <div class="ms-val" id="ms-week">0</div>
              <div class="ms-label">This Week</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ======================================================
         TASKS PANEL
    ====================================================== -->
    <section id="panel-tasks" class="panel" aria-label="Mission Control">
      <header class="panel-hdr">
        <h1 class="panel-title">Mission Control</h1>
        <p class="panel-sub">Track, prioritize, and crush every objective</p>
      </header>

      <div class="tasks-toolbar">
        <div class="task-add-row">
          <input type="text" id="task-text-input" class="task-main-input" placeholder="New mission descriptionâ€¦" maxlength="200"/>
          <select id="task-pri" class="task-select" title="Priority">
            <option value="critical">ğŸ”´ Critical</option>
            <option value="high">ğŸŸ  High</option>
            <option value="medium" selected>ğŸŸ¡ Medium</option>
            <option value="low">ğŸŸ¢ Low</option>
          </select>
          <select id="task-cat" class="task-select" title="Category">
            <option value="work">ğŸ’¼ Work</option>
            <option value="personal">ğŸ  Personal</option>
            <option value="health">ğŸƒ Health</option>
            <option value="learn">ğŸ“š Learn</option>
            <option value="creative">ğŸ¨ Create</option>
            <option value="finance">ğŸ’° Finance</option>
          </select>
          <input type="date" id="task-due-input" class="task-due-input" title="Due date"/>
          <button id="add-task-btn" class="btn-primary">LAUNCH</button>
        </div>
        <div class="task-filter-row">
          <button class="flt active" data-f="all">All</button>
          <button class="flt" data-f="active">Active</button>
          <button class="flt" data-f="done">Done</button>
          <button class="flt" data-f="critical">Critical</button>
          <button class="flt" data-f="today">Due Today</button>
          <div class="flt-search-wrap">
            <input type="text" id="task-search" placeholder="Searchâ€¦" class="flt-search"/>
          </div>
          <div class="task-sort-wrap">
            <select id="task-sort" class="task-select-sm">
              <option value="date_desc">Newest</option>
              <option value="date_asc">Oldest</option>
              <option value="priority">Priority</option>
              <option value="due">Due Date</option>
              <option value="alpha">Aâ€“Z</option>
            </select>
          </div>
        </div>
      </div>

      <div id="tasks-container" class="tasks-container">
        <!-- Tasks rendered here -->
      </div>

      <div class="tasks-footer">
        <div class="tf-counts" id="tf-counts">0 missions active</div>
        <div class="tf-progress-wrap">
          <div class="tf-progress-track"><div id="tf-progress-bar" class="tf-progress-bar"></div></div>
          <span id="tf-pct" class="tf-pct">0%</span>
        </div>
        <button id="clear-done-btn" class="btn-ghost-sm">Clear completed</button>
      </div>
    </section>

    <!-- ======================================================
         HABITS PANEL
    ====================================================== -->
    <section id="panel-habits" class="panel" aria-label="Habit Constellation">
      <header class="panel-hdr">
        <h1 class="panel-title">Habit Constellation</h1>
        <p class="panel-sub">Daily rituals Â· Atomic progress Â· Compounding results</p>
      </header>

      <div class="habits-layout">

        <div class="habits-left">
          <!-- Add Habit Form -->
          <div class="habit-add-card">
            <div class="card-title">New Ritual</div>
            <input type="text" id="habit-name-in" class="w-full-input" placeholder="Habit nameâ€¦" maxlength="50"/>
            <div class="habit-form-row">
              <select id="habit-icon-in" class="task-select">
                <option value="ğŸ’§">ğŸ’§ Hydrate</option>
                <option value="ğŸƒ">ğŸƒ Exercise</option>
                <option value="ğŸ“š">ğŸ“š Read</option>
                <option value="ğŸ§˜">ğŸ§˜ Meditate</option>
                <option value="ğŸ¨">ğŸ¨ Create</option>
                <option value="ğŸŒ±">ğŸŒ± Nature</option>
                <option value="ğŸ’Š">ğŸ’Š Medicine</option>
                <option value="âœï¸">âœï¸ Journal</option>
                <option value="ğŸµ">ğŸµ Music</option>
                <option value="ğŸŒ™">ğŸŒ™ Sleep early</option>
                <option value="ğŸ¥—">ğŸ¥— Eat well</option>
                <option value="â­">â­ Custom</option>
              </select>
              <select id="habit-freq-in" class="task-select">
                <option value="daily">Daily</option>
                <option value="weekdays">Weekdays</option>
                <option value="weekends">Weekends</option>
                <option value="mwf">Mon/Wed/Fri</option>
                <option value="tth">Tue/Thu</option>
              </select>
              <!-- test -->
              <div class= "test">
                <!-- test -->
              <select id="habit-color-in" class="task-select">
                <option value="cyan">Cyan</option>
                <option value="orange">Orange</option>
                <option value="pink">Pink</option>
                <option value="lime">Lime</option>
                <option value="amber">Amber</option>
                <option value="violet">Violet</option>
              </select>
                <!-- test -->
            </div>
              <!-- test -->
            </div>
            <input type="text" id="habit-goal-in" class="w-full-input" placeholder="Goal or motivation (optional)â€¦" maxlength="100"/>
            <button id="add-habit-btn" class="btn-primary mt-8">+ Add Habit</button>
          </div>

          <!-- Habit List -->
          <div id="habits-list" class="habits-list"></div>
        </div>

        <div class="habits-right">
          <canvas id="constellation-cvs" class="constellation-cvs" width="440" height="440"></canvas>
          <div class="constellation-note">Each star is a completed check-in Â· Connections = simultaneous habits</div>

          <div class="habit-calendar-title">This Week's Grid</div>
          <div class="habit-week-grid" id="habit-week-grid"></div>

          <div class="habit-summary" id="habit-summary"></div>
        </div>
      </div>
    </section>

    <!-- ======================================================
         NOTES PANEL
    ====================================================== -->
    <section id="panel-notes" class="panel" aria-label="The Void â€” Notes">
      <header class="panel-hdr">
        <h1 class="panel-title">The Void</h1>
        <p class="panel-sub">Capture Â· Organize Â· Recall</p>
      </header>

      <div class="notes-layout">
        <div class="notes-panel-left">
          <div class="notes-sidebar-tools">
            <button id="new-note-btn" class="btn-primary">+ New Note</button>
            <input type="text" id="notes-search-in" class="notes-search" placeholder="Search notesâ€¦"/>
          </div>
          <div class="notes-filter-row">
            <button class="note-flt active" data-f="all">All</button>
            <button class="note-flt" data-f="idea">ğŸ’¡</button>
            <button class="note-flt" data-f="important">âš¡</button>
            <button class="note-flt" data-f="todo">âœ…</button>
            <button class="note-flt" data-f="research">ğŸ”¬</button>
            <button class="note-flt" data-f="personal">ğŸŒ™</button>
          </div>
          <div id="notes-list" class="notes-list"></div>
        </div>

        <div class="notes-editor-col" id="notes-editor-col">
          <div class="note-empty" id="note-empty">
            <div class="note-empty-icon">â—‰</div>
            <div class="note-empty-text">Select a note or create a new one</div>
            <button class="btn-primary" id="note-empty-new">+ New Note</button>
          </div>

          <div id="note-editor" class="note-editor hidden">
            <div class="note-editor-top">
              <input type="text" id="note-title-in" class="note-title-in" placeholder="Untitled Note"/>
              <div class="note-meta-bar">
                <select id="note-tag-in" class="note-meta-sel">
                  <option value="none">No tag</option>
                  <option value="idea">ğŸ’¡ Idea</option>
                  <option value="important">âš¡ Important</option>
                  <option value="todo">âœ… Todo</option>
                  <option value="research">ğŸ”¬ Research</option>
                  <option value="personal">ğŸŒ™ Personal</option>
                </select>
                <div class="note-colors-row" id="note-colors-row">
                  <button class="nc-dot active" data-c="default" title="Default"></button>
                  <button class="nc-dot" data-c="rose" title="Rose"></button>
                  <button class="nc-dot" data-c="amber" title="Amber"></button>
                  <button class="nc-dot" data-c="teal" title="Teal"></button>
                  <button class="nc-dot" data-c="violet" title="Violet"></button>
                  <button class="nc-dot" data-c="lime" title="Lime"></button>
                </div>
                <span id="note-status" class="note-status">saved</span>
                <span id="note-wc" class="note-wc">0 words</span>
                <span id="note-rt" class="note-rt">~0 min read</span>
                <button id="del-note-btn" class="btn-danger-ghost">Delete</button>
              </div>
            </div>

            <div class="note-toolbar" id="note-toolbar">
              <button class="ntb" data-cmd="bold"><b>B</b></button>
              <button class="ntb" data-cmd="italic"><i>I</i></button>
              <button class="ntb" data-cmd="underline"><u>U</u></button>
              <button class="ntb" data-cmd="strikeThrough"><s>S</s></button>
              <span class="ntb-sep"></span>
              <button class="ntb" data-cmd="formatBlock" data-val="h2">H2</button>
              <button class="ntb" data-cmd="formatBlock" data-val="h3">H3</button>
              <button class="ntb" data-cmd="formatBlock" data-val="blockquote">"</button>
              <button class="ntb" data-cmd="formatBlock" data-val="pre">âŒ¥</button>
              <span class="ntb-sep"></span>
              <button class="ntb" data-cmd="insertUnorderedList">â€¢ List</button>
              <button class="ntb" data-cmd="insertOrderedList">1. List</button>
              <span class="ntb-sep"></span>
              <button class="ntb" data-cmd="justifyLeft">â«·</button>
              <button class="ntb" data-cmd="justifyCenter">âŠŸ</button>
              <button class="ntb" data-cmd="justifyRight">â«¸</button>
              <span class="ntb-sep"></span>
              <button class="ntb" id="ntb-link">ğŸ”—</button>
              <button class="ntb" id="ntb-hr">â”€</button>
              <button class="ntb" id="ntb-clear">âœ•</button>
            </div>

            <div id="note-body" class="note-body" contenteditable="true" spellcheck="true" aria-label="Note content"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- ======================================================
         MOOD PANEL
    ====================================================== -->
    <section id="panel-mood" class="panel" aria-label="Energy Spectrum">
      <header class="panel-hdr">
        <h1 class="panel-title">Energy Spectrum</h1>
        <p class="panel-sub">Multi-axis tracking Â· Trend detection Â· Self awareness</p>
      </header>

      <div class="mood-layout">
        <div class="mood-checkin-zone">
          <div class="mood-card">
            <div class="card-title">Check In</div>

            <div class="mood-emoji-row" id="mood-emoji-row">
              <button class="me-btn" data-v="5" title="Phenomenal">ğŸš€<span>Phenomenal</span></button>
              <button class="me-btn" data-v="4" title="Great">ğŸ˜„<span>Great</span></button>
              <button class="me-btn" data-v="3" title="Okay">ğŸ˜<span>Okay</span></button>
              <button class="me-btn" data-v="2" title="Low">ğŸ˜”<span>Low</span></button>
              <button class="me-btn" data-v="1" title="Rough">ğŸŒ§<span>Rough</span></button>
            </div>

            <div class="mood-sliders">
              <div class="ms-row">
                <span class="ms-lbl">Mood</span>
                <input type="range" class="mood-slider" id="sl-mood" min="1" max="10" value="5"/>
                <span class="ms-val" id="sv-mood">5</span>
              </div>
              <div class="ms-row">
                <span class="ms-lbl">Energy</span>
                <input type="range" class="mood-slider" id="sl-energy" min="1" max="10" value="5"/>
                <span class="ms-val" id="sv-energy">5</span>
              </div>
              <div class="ms-row">
                <span class="ms-lbl">Focus</span>
                <input type="range" class="mood-slider" id="sl-focus-mood" min="1" max="10" value="5"/>
                <span class="ms-val" id="sv-focus">5</span>
              </div>
              <div class="ms-row">
                <span class="ms-lbl">Stress</span>
                <input type="range" class="mood-slider" id="sl-stress" min="1" max="10" value="5"/>
                <span class="ms-val" id="sv-stress">5</span>
              </div>
            </div>

            <div class="mood-tags-zone">
              <div class="mood-tags-title">Feelings</div>
              <div class="mood-tags-grid" id="mood-tags-grid">
                <button class="mt-tag" data-t="focused">focused</button>
                <button class="mt-tag" data-t="creative">creative</button>
                <button class="mt-tag" data-t="anxious">anxious</button>
                <button class="mt-tag" data-t="tired">tired</button>
                <button class="mt-tag" data-t="motivated">motivated</button>
                <button class="mt-tag" data-t="calm">calm</button>
                <button class="mt-tag" data-t="stressed">stressed</button>
                <button class="mt-tag" data-t="happy">happy</button>
                <button class="mt-tag" data-t="grateful">grateful</button>
                <button class="mt-tag" data-t="distracted">distracted</button>
                <button class="mt-tag" data-t="overwhelmed">overwhelmed</button>
                <button class="mt-tag" data-t="content">content</button>
              </div>
            </div>

            <textarea id="mood-note" class="mood-note-ta" placeholder="Anything on your mind? (optional)" rows="2"></textarea>
            <button id="log-mood-btn" class="btn-primary w-full">Log State</button>
            <div id="mood-response" class="mood-response hidden"></div>
          </div>
        </div>

        <div class="mood-charts-zone">
          <div class="chart-tabs">
            <button class="ct-tab active" data-ct="30d">30 Days</button>
            <button class="ct-tab" data-ct="90d">90 Days</button>
            <button class="ct-tab" data-ct="radar">Radar</button>
          </div>
          <canvas id="mood-main-chart" class="mood-canvas" width="600" height="220"></canvas>
          <canvas id="mood-radar-chart" class="mood-canvas hidden" width="300" height="300"></canvas>

          <div class="mood-insights-row" id="mood-insights-row"></div>

          <div class="mood-history-title">Recent Entries</div>
          <div id="mood-history" class="mood-history"></div>
        </div>
      </div>
    </section>

    <!-- ======================================================
         STATS PANEL
    ====================================================== -->
    <section id="panel-stats" class="panel" aria-label="Mission Report">
      <header class="panel-hdr">
        <h1 class="panel-title">Mission Report</h1>
        <p class="panel-sub">Analytics Â· Achievements Â· Activity history</p>
      </header>

      <div class="stats-layout">
        <!-- Hero row -->
        <div class="stats-hero-row" id="stats-hero-row"></div>

        <!-- Charts row -->
        <div class="stats-charts-grid">
          <div class="sc-card">
            <div class="sc-title">Weekly Focus (hours)</div>
            <canvas id="chart-weekly-focus" width="380" height="180"></canvas>
          </div>
          <div class="sc-card">
            <div class="sc-title">Task Categories</div>
            <canvas id="chart-donut" width="280" height="180"></canvas>
          </div>
          <div class="sc-card">
            <div class="sc-title">Focus Trend (30d)</div>
            <canvas id="chart-trend" width="380" height="180"></canvas>
          </div>
          <div class="sc-card">
            <div class="sc-title">Productivity Radar</div>
            <canvas id="chart-radar" width="280" height="180"></canvas>
          </div>
        </div>

        <!-- Heatmap -->
        <div class="stats-heatmap-card">
          <div class="sc-title">Activity Heatmap â€” 90 Days</div>
          <div id="heatmap" class="heatmap-grid"></div>
          <div class="heatmap-legend">
            <span>Less</span>
            <span class="hl-cell hl-0"></span>
            <span class="hl-cell hl-1"></span>
            <span class="hl-cell hl-2"></span>
            <span class="hl-cell hl-3"></span>
            <span class="hl-cell hl-4"></span>
            <span>More</span>
          </div>
        </div>

        <!-- Achievements -->
        <div class="achievements-zone">
          <div class="sc-title">Achievements</div>
          <div id="achievements-grid" class="achievements-grid"></div>
        </div>
      </div>
    </section>

    <!-- ======================================================
         REWARDS PANEL
    ====================================================== -->
    <section id="panel-rewards" class="panel" aria-label="Cosmic Rewards">
      <header class="panel-hdr">
        <h1 class="panel-title">Cosmic Rewards</h1>
        <p class="panel-sub">Level up Â· Collect badges Â· Unlock the cosmos</p>
      </header>

      <div class="rewards-layout">
        <div class="rewards-profile-card">
          <div class="rp-avatar" id="rp-avatar">â—ˆ</div>
          <div class="rp-name" id="rp-name">Space Explorer</div>
          <div class="rp-level-badge" id="rp-level">Level 1</div>
          <div class="rp-xp-row">
            <span id="rp-xp-text">0 / 100 XP</span>
          </div>
          <div class="rp-xp-track"><div class="rp-xp-fill" id="rp-xp-fill"></div></div>
          <div class="rp-stats-mini">
            <div class="rpm">
              <span class="rpm-v" id="rpm-total-xp">0</span>
              <span class="rpm-l">Total XP</span>
            </div>
            <div class="rpm">
              <span class="rpm-v" id="rpm-badges">0</span>
              <span class="rpm-l">Badges</span>
            </div>
            <div class="rpm">
              <span class="rpm-v" id="rpm-streak">0</span>
              <span class="rpm-l">Streak ğŸ”¥</span>
            </div>
          </div>
        </div>

        <div class="rewards-right">
          <div class="rewards-tabs">
            <button class="rt-tab active" data-rt="badges">Badges</button>
            <button class="rt-tab" data-rt="milestones">Milestones</button>
            <button class="rt-tab" data-rt="shop">Cosmic Shop</button>
          </div>

          <div id="rt-badges" class="rt-panel active">
            <div id="badges-grid" class="badges-grid"></div>
          </div>
          <div id="rt-milestones" class="rt-panel hidden">
            <div id="milestones-list" class="milestones-list"></div>
          </div>
          <div id="rt-shop" class="rt-panel hidden">
            <div id="shop-grid" class="shop-grid"></div>
          </div>
        </div>
      </div>
    </section>

  </main>
</div>

<script src="script.js"></script>
</body>
</html>
